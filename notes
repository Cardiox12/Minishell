ça marche pas pcq close oldpipe ferme newpipe

le close(oldpipe) sert à pouvoir lire output du pipe avant
il a le meme fdout que le fdout du nouveau pipe donc je peux pas le close car ils font ref au meme fd

pistes:
-pipes fantomes
-entrees et sorties pas bien closes
-close fd qu'il faut pas

pb lié a pipes intra process? probablement
quand est-ce que j'en utilise?
-pour rediriger inputfile vers stdin
-pour les output redirections dans les builtins

et la mon pb c'est que je peux plus rediriger l'output de grep dans un fichier

pb potentiel: je redirige stdout dans le process parent. du coup la communication se passe bien avec grep, mais après le process parent n'arrive plus a rediriger l'output de grep, a le rechoper

hypothese:
dans un des process, pipe utilise un fd déjà utilisé dans un autre process

debug si j'arrive pas comme ça: forker env et echo

origin erreur possible: dans recursive builtin, j'envoie des données et je lis sur le meme pipe
